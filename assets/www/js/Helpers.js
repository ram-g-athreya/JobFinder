function initializeStores(){var a;a=Ext.getStore("lookJobStore");a.getProxy().setUrl(baseURL+a.getProxy().getUrl());a=Ext.getStore("lookResumeStore");a.getProxy().setUrl(baseURL+a.getProxy().getUrl())}function setLeft(b,a){var a=(isDefined(a))?a:"0%";getCmp(b).setLeft(a)}function animation(a,c,b){return{type:a,direction:c,duration:(typeof b=="undefined")?500:b}}function viewportAdd(b){var a=getCmp(b);if(!isDefined(a)){a=Ext.Viewport.add({xtype:b})}return a}function setActiveItem(a){context.from=context.current;context.current=a;view=viewportAdd(a);view.show();Ext.Viewport.setActiveItem(view);window.location.hash=a;return view}function merge(e,d){var a=Array(),c=0;for(var b in e){a[c++]=e[b]}for(var b in d){a[c++]=d[b]}return a}function mergeObj(d,c){var a={};for(var b in d){a[b]=d[b]}for(var b in c){a[b]=c[b]}return a}function iOSBlur(a){a.suspendEvents();delay(150,function(){a.blur();a.resumeEvents()})}function androidBlur(b){var a=Ext.create("Ext.util.DelayedTask",function(){b.blur();a.cancel()});a.cancel();a.delay(1)}function getFocusMsg(d,c,b){var a=new Ext.MessageBox().show({title:c,message:b,showAnimation:"pop",hideAnimation:"",buttons:{text:"OK",itemId:"ok",id:"ok",listeners:[{fn:function(g,h,f){d.focus();a.destroy()},event:"tap"}]}})}function convertCurrencyFormat(c){var b,a="";if(c==parseInt(c,10)){b="00"}else{b=parseInt(c*100,10)%100;if(b<10&&b>0){b="0"+b%10}}c=parseInt(c,10);if(c>=1000){a=parseInt(c,10)%1000;if(parseInt(a)==0){a="000"}else{if(parseInt(a)<10){a="00"+a}else{if(parseInt(a)<100){a="0"+a}}}c=parseInt(c/1000,10);a=","+a;while(c>0){if(c>=100){if(c%100<10){a=",0"+parseInt(c%10,10)+a}else{a=","+parseInt(c%100,10)+a}c=parseInt(c/100,10)}else{a=c+a;c=0}}return a}else{return c}}function isPublisher(a,e){var b="/Sencha/User/MDefault/IsPublisher";var c={postid:e,userid:a};var d=function(f){setActiveItem("classifiedDetailsView");setClassifiedDetailsView();f=JSON.parse(f);classifiedsobject.listUnmask();isInWishList(e,f)};ajaxRequest(b,"POST",c,d)}function setClassifiedDetailsView(){var a="classifiedDetailsView ";getCmp(a+"#carImage").setSrc(postdata.image.replace("thumb","big"));getCmp(a+"#carLabel").setHtml(postdata.classified_id+" "+postdata.manufacturer+" "+postdata.model+" "+postdata.variant+" ("+postdata.year+")<br/>");getCmp(a+"#informationLabel").setHtml(postdata.odometer+"kms "+postdata.city+", "+postdata.state+"<br/>");getCmp(a+"#priceLabel").setHtml(postdata.user_price+"<br/>");getCmp(a+"#carousel").setActiveItem(0)}function isInWishList(a,b){var g="classifiedDetailsView ";var f=getCmp(g+"#wishListButton");var e=getCmp(g+"#renewButton");var h=getCmp(g+"#editButton");f.setHidden(true);e.setHidden(true);h.setHidden(true);if(cmp(b,"true")){f.setHidden(true);e.setHidden(false);h.setHidden(false)}else{e.setHidden(true);h.setHidden(true);var c="/Sencha/User/MDefault/IsInWishList";var d={postid:a};var i=function(j){f.setHidden(false);(cmp(j,"true"))?f.setText("Remove from Watch List"):f.setText("Add to Watch List")};ajaxRequest(c,"POST",d,i)}}function wishList(c,g,e){var b="/Classifieds/Details/"+((cmp(e,"add"))?"AddToWishlist":"RemoveFromWishlist");var a="POST",f,h;var d={id_classified:c};if(cmp(e,"add")){f="Added to Watch List";h="Remove from Watch List"}else{f="Removed from WatchList";h="Added to Watch List"}var i=function(j){Ext.Msg.alert("RightCar",f,function(){g.setText(h)})};ajaxRequest(b,a,d,i)}function ajaxRequest(b,e,c,d,a){if(navigator.onLine){Ext.Ajax.request({url:baseURL+b,method:e,params:c,success:function(f){d(f.responseText)},failure:function(){if(isDefined(a)){a()}enable();getCmp(context.current).setMasked(false);var f=(!navigator.onLine)?errors["-5"]:errors["-6"];getCmp("notification").show(f,3000)}})}else{a()}}function cmp(b,a){return b===a}function getCmp(a){return getAllCmp(a)[0]}function getAllCmp(a){return Ext.ComponentQuery.query(a)}function multiStringify(c,b,a){result=c+"["+b+"]";return(cmp(a[b],"SINGLE"))?result:result+"[]"}function stringify(d,f){var c=0,a=Array(),b,e;for(c in f){b=d+"["+c+"]";e=f[c];a.push({name:b,value:e})}return JSON.stringify(a)}function suspendEvents(a){var b=0;if(!isDefined(a.length)){a.suspendEvents()}else{for(b in a){a[b].suspendEvents()}}}function resumeEvents(a){var b=0;if(!isDefined(a.length)){a.resumeEvents()}else{for(b in a){a[b].resumeEvents()}}}function delay(c,b){var a=Ext.create("Ext.util.DelayedTask",b);a.delay(c)}function rupeeFormat(a){return"<span class='rupee'>rs</span> "+a}function refresh(a,b){if(exists(a)){getCmp(a).refresh(b);setActiveItem(a);return true}else{setActiveItem(a).refresh(b);return false}}function isDefined(a){return typeof a!="undefined"}function exists(a){return isDefined(getCmp(a))}function disable(){getCmp("loading").show();Ext.Viewport.setMasked(true);getCmp(context.current).setMasked(true)}function enable(){getCmp("loading").hide();Ext.Viewport.setMasked(false);getCmp(context.from).setMasked(false);getCmp(context.current).setMasked(false)}function disableButtons(a){var c=getAllCmp(a+" button");for(var b in c){c[b].disable()}}function enableButtons(a){var c=getAllCmp(a+" button");for(var b in c){c[b].enable()}}function isNull(a){return a==null}function showOverlay(a){var a=getCmp(a),b=getCmp("guide");a.overlay=b;a.overlay.show()}function cardFlip(a,c,b){a=getCmp(a);c=getCmp(c);if(b){c.removeCls("flip-back");a.removeCls("flip-left");c.addCls("flip-right");a.addCls("flip-back")}else{a.removeCls("flip-back");c.removeCls("flipped");a.addCls("flip-left");c.addCls("flip-back")}}function setBold(a){return"<b>"+a+"</b>"}function dateCmp(d,c){d=new Date(d);c=new Date(c);var a=(d.getFullYear()-c.getFullYear())*365;var b=(d.getMonth()-c.getMonth())*30;var e=d.getDate()-c.getDate();return(a+b+e>=0)}function isEmpty(a){for(var b in a){if(a.hasOwnProperty(b)){return false}}return true}function setPaginationPlugin(){return[{autoPaging:true,type:"listpaging"},{xclass:"Ext.plugin.PullRefresh",pullRefreshText:"Pull down to refresh Classifieds"}]}function min(c){var b=Infinity;for(var a in c){if(!isNaN(c[a])&&c[a]<b){b=c[a]}}return b}function max(c){var a=-Infinity;for(var b in c){if(!isNaN(c[b])&&c[b]>a){a=c[b]}}return a}function count(a){if(typeof a==="object"){if(isDefined(a.length)){return a.length}else{return Object.keys(a).length}}else{return 1}}function autoComma(b,a){suspendEvents(b);var c=b.getValue();if(c.length>a){b.setValue(c.substring(0,a))}else{if(!Ext.os.is.Android){c=parseInt(removeCommas(c));if(!isNaN(c)){c=convertCurrencyFormat(c);b.setValue(c)}else{b.setValue("")}}}resumeEvents(b)}function removeCommas(a){return a.toString().replace(/,/g,"")}function createCustomValidations(){Ext.applyIf(Ext.data.Validations,{custom:function(a,b){if(a&&Ext.isFunction(a.fn)){if(a.self){return a.fn.call(a.self,b)}else{return a.fn(b)}}else{return false}},username:function(a,b){b=(arguments.length==1)?a:b;if(!isDefined(b)){return false}if(b.length<3){return false}return/^[a-zA-Z\s]+$/.test(b)},password:function(a,b){b=(arguments.length==1)?a:b;if(!isDefined(b)){return false}return b.length>3},phone:function(a,b){b=(arguments.length==1)?a:b;return/^[1-9][0-9]{9}$/.test(b)}})}function validateForm(c){var a=c.getRecord(),b=c.getValues();if(!isNull(a)){a.setData(b);return a.validate().all}}function validateComponent(c,f){var e,b,a;b=c.getName();a=c.up("formpanel").down("#"+b+"_label");c.removeCls("field-required");a.setHidden(true);for(var d in f){e=f[d].getField();if(cmp(e,b)){c.addCls("field-required");a.setHtml(f[d].getMessage());a.show();break}}}function setErrors(a,d){var c;for(var b in d){c=d[b].getField();validateComponent(getCmp(a+" #"+c),d)}}function pushAll(c,b){for(var a in c){b.push(c[a])}return b};